{"ast":null,"code":"import _classCallCheck from \"/Users/andrew/GOLDToCalender/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/andrew/GOLDToCalender/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/andrew/GOLDToCalender/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/andrew/GOLDToCalender/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/andrew/GOLDToCalender/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/andrew/GOLDToCalender/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/andrew/GOLDToCalender/src/home.js\";\nimport React, { Component } from 'react';\nimport './css/home.css';\nimport Proc from \"./components/imageprocessor\";\nimport ImageUploader from 'react-images-upload';\nimport \"./css/googlesignin.css\";\nimport firebase from \"firebase\";\nfirebase.initializeApp({\n  apiKey: \"AIzaSyBROZZvSTM4XbVEuppNsSmzmAeHxxrX7GE\",\n  authDomain: \"goldtocalendar-1547328134993.firebaseapp.com\"\n});\nvar provider = new firebase.auth.GoogleAuthProvider();\nfirebase.auth().getRedirectResult().then(function (result) {\n  if (result.credential) {\n    // This gives you a Google Access Token. You can use it to access the Google API.\n    var token = result.credential.accessToken;\n    this.state.setState({\n      isSignedIn: true\n    }); // ...\n  } // The signed-in user info.\n\n\n  var user = result.user;\n}).catch(function (error) {\n  // Handle Errors here.\n  var errorCode = error.code;\n  var errorMessage = error.message; // The email of the user's account used.\n\n  var email = error.email; // The firebase.auth.AuthCredential type that was used.\n\n  var credential = error.credential; // ...\n});\n\nvar Home =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Home, _Component);\n\n  function Home(props) {\n    var _this;\n\n    _classCallCheck(this, Home);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Home).call(this, props));\n\n    _this.signInWithRedirect = function () {\n      firebase.auth().signInWithRedirect(provider);\n    };\n\n    _this.signout = function () {\n      firebase.auth().signOut().then(function () {\n        // Sign-out successful.\n        this.setState({\n          isSignedIn: false\n        });\n      }).catch(function (error) {// An error happened.\n      });\n    };\n\n    _this.state = {\n      pictures: [],\n      imageuploaded: false,\n      isSignedIn: false\n    };\n    _this.onDrop = _this.onDrop.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Home, [{\n    key: \"onDrop\",\n    value: function onDrop(picture) {\n      this.setState({\n        pictures: this.state.pictures.concat(picture),\n        imageuploaded: true\n      });\n      console.log(\"uploaded\");\n    }\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this2 = this;\n\n      firebase.auth().onAuthStateChanged(function (user) {\n        _this2.setState({\n          isSignedIn: user\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.isSignedIn && this.state.imageuploaded) {\n        return React.createElement(\"div\", {\n          className: \"homebox\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84\n          },\n          __self: this\n        }, React.createElement(Proc, {\n          image: this.state.pictures[0],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86\n          },\n          __self: this\n        }, React.createElement(\"h1\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        }, \"Sign Out\"), React.createElement(\"button\", {\n          className: \"btn signOut\",\n          label: \"Google Sign Out\",\n          onClick: this.signout,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88\n          },\n          __self: this\n        }, \"Sign Out\")));\n      } else if (this.state.isSignedIn && !this.state.imageuploaded) {\n        return React.createElement(\"div\", {\n          className: \"homebox\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100\n          },\n          __self: this\n        }, React.createElement(\"strong\", {\n          className: \"homehead\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102\n          },\n          __self: this\n        }, \"Upload an Image to get started\"), React.createElement(\"div\", {\n          class: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          class: \"col-md-6 col-md-offset-3\",\n          className: \"uploader\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104\n          },\n          __self: this\n        }, React.createElement(ImageUploader, {\n          withIcon: true,\n          buttonText: \"Choose image\",\n          onChange: this.onDrop,\n          imgExtension: ['.jpg', '.gif', '.png', '.gif'],\n          maxFileSize: 5242880,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105\n          },\n          __self: this\n        }))), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          href: \"https://photos.app.goo.gl/5xQr8x333gPYCXXPA\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115\n          },\n          __self: this\n        }, \"Don't go to UCSB? Here's a sample photo!\")), React.createElement(\"div\", {\n          className: \"GoogleSignIn\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 118\n          },\n          __self: this\n        }, React.createElement(\"h1\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119\n          },\n          __self: this\n        }, \"Sign Out\"), React.createElement(\"button\", {\n          className: \"btn signOut\",\n          label: \"Google Sign Out\",\n          onClick: this.signout,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120\n          },\n          __self: this\n        }, \"Sign Out\"))));\n      } else {\n        return React.createElement(\"div\", {\n          className: \"homebox\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135\n          },\n          __self: this\n        }, React.createElement(\"h1\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136\n          },\n          __self: this\n        }, \"Sign In\"), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 137\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          className: \"btn signIn\",\n          label: \"Google Sign In\",\n          onClick: this.signInWithRedirect,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138\n          },\n          __self: this\n        }, \"Sign In With Google\")));\n      }\n    }\n  }]);\n\n  return Home;\n}(Component);\n\nexport { Home as default };","map":{"version":3,"sources":["/Users/andrew/GOLDToCalender/src/home.js"],"names":["React","Component","Proc","ImageUploader","firebase","initializeApp","apiKey","authDomain","provider","auth","GoogleAuthProvider","getRedirectResult","then","result","credential","token","accessToken","state","setState","isSignedIn","user","catch","error","errorCode","code","errorMessage","message","email","Home","props","signInWithRedirect","signout","signOut","pictures","imageuploaded","onDrop","bind","picture","concat","console","log","onAuthStateChanged"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport './css/home.css';\nimport Proc from \"./components/imageprocessor\"\nimport ImageUploader from 'react-images-upload';\n\n\nimport \"./css/googlesignin.css\";\nimport firebase from \"firebase\"\n\n\nfirebase.initializeApp({\n  apiKey: \"AIzaSyBROZZvSTM4XbVEuppNsSmzmAeHxxrX7GE\",\n  authDomain: \"goldtocalendar-1547328134993.firebaseapp.com\"\n})\n\nvar provider = new firebase.auth.GoogleAuthProvider();\nfirebase.auth().getRedirectResult().then(function(result) {\n  if (result.credential) {\n    // This gives you a Google Access Token. You can use it to access the Google API.\n    var token = result.credential.accessToken;\n    this.state.setState({isSignedIn: true});\n    // ...\n  }\n  // The signed-in user info.\n  var user = result.user;\n}).catch(function(error) {\n  // Handle Errors here.\n  var errorCode = error.code;\n  var errorMessage = error.message;\n  // The email of the user's account used.\n  var email = error.email;\n  // The firebase.auth.AuthCredential type that was used.\n  var credential = error.credential;\n  // ...\n});\n\nexport default class Home extends Component {\n  constructor(props) {\n    super(props);\n     this.state = { pictures: [],\n      imageuploaded:false,\n      isSignedIn : false };\n     this.onDrop = this.onDrop.bind(this);\n}\n\nonDrop(picture) {\n    this.setState({\n        pictures: this.state.pictures.concat(picture),\n        \n      imageuploaded:true\n    }\n    );\n    console.log(\"uploaded\")\n}\n\n\n    \n  signInWithRedirect = ()=>{\n    firebase.auth().signInWithRedirect(provider);\n  }\n  \n  signout = ()=>{\n    firebase.auth().signOut().then(function() {\n      // Sign-out successful.\n      this.setState({\n        isSignedIn:false\n      })\n    }).catch(function(error) {\n      // An error happened.\n    });\n  }\n\n  componentWillMount() {\n    firebase.auth().onAuthStateChanged(user => {\n      this.setState({isSignedIn:user})\n    });\n  }\n\n\n        render() {\n          if(this.state.isSignedIn && this.state.imageuploaded ){\n          return(\n            \n          <div className = \"homebox\">\n          <Proc image={this.state.pictures[0]}/>\n            <div>\n              <h1>Sign Out</h1>\n              <button\n                    className = \"btn signOut\"\n                    label=\"Google Sign Out\"\n                    onClick={this.signout}>\n                Sign Out\n                </button>\n            </div>\n            \n            </div>\n        )} \n        else if(this.state.isSignedIn && !this.state.imageuploaded ){\n          return(\n            <div className=\"homebox\">\n            \n          <strong className=\"homehead\">Upload an Image to get started</strong>\n            <div class=\"row\">\n              <div class=\"col-md-6 col-md-offset-3\" className=\"uploader\">\n                <ImageUploader\n                      withIcon={true}\n                      buttonText='Choose image'\n                      onChange={this.onDrop}\n                      imgExtension={['.jpg', '.gif', '.png', '.gif']}\n                      maxFileSize={5242880}\n                />\n              </div>\n            </div>\n            <div>\n              <a href=\"https://photos.app.goo.gl/5xQr8x333gPYCXXPA\">Don't go to UCSB? Here's a sample photo!</a>\n            </div>\n            <div className = \"GoogleSignIn\">\n              <div>\n                <h1>Sign Out</h1>\n                <button\n                      className = \"btn signOut\"\n                      label=\"Google Sign Out\"\n                      onClick={this.signout}>\n                  Sign Out\n                  </button>\n              </div>\n              </div>\n            \n          </div>\n             \n          )\n        }\n        else{ \n          return(\n          <div className=\"homebox\">\n              <h1>Sign In</h1>\n              <div>\n                <button\n                    className = \"btn signIn\"\n                    label=\"Google Sign In\"\n                    onClick={this.signInWithRedirect}>\n                Sign In With Google\n                </button>\n              </div>\n          </div>\n        )}\n        \n      \n        }\n}\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _defineProperty from \"/Users/andrew/GOLDToCalender/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/andrew/GOLDToCalender/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/andrew/GOLDToCalender/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/andrew/GOLDToCalender/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/andrew/GOLDToCalender/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/andrew/GOLDToCalender/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/andrew/GOLDToCalender/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/andrew/GOLDToCalender/src/home.js\";\nimport React, { Component } from 'react';\nimport './css/home.css';\nimport Proc from \"./components/imageprocessor\";\nimport ImageUploader from 'react-images-upload';\nimport \"./css/googlesignin.css\";\nimport firebase from \"firebase\";\nfirebase.initializeApp({\n  apiKey: \"AIzaSyBROZZvSTM4XbVEuppNsSmzmAeHxxrX7GE\",\n  authDomain: \"goldtocalendar-1547328134993.firebaseapp.com\"\n});\nvar provider = new firebase.auth.GoogleAuthProvider();\nfirebase.auth().getRedirectResult().then(function (result) {\n  if (result.credential) {\n    // This gives you a Google Access Token. You can use it to access the Google API.\n    var token = result.credential.accessToken;\n    this.state.setState({\n      isSignedIn: true\n    });\n  } // The signed-in user info.\n\n\n  var user = result.user;\n}).catch(function (error) {\n  // Handle Errors here.\n  var errorCode = error.code;\n  var errorMessage = error.message; // The email of the user's account used.\n\n  var email = error.email; // The firebase.auth.AuthCredential type that was used.\n\n  var credential = error.credential; // ...\n});\n\nvar Home =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Home, _Component);\n\n  function Home(props) {\n    var _this;\n\n    _classCallCheck(this, Home);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Home).call(this, props));\n\n    _this.signInWithRedirect = function () {\n      firebase.auth().signInWithRedirect(provider).then(firebase.auth().getRedirectResult().then(function (authData) {\n        console.log(authData);\n        console.log(\"done\");\n      }));\n    };\n\n    _this.signout = function () {\n      firebase.auth().signOut().then(function () {\n        // Sign-out successful.\n        this.setState({\n          isSignedIn: false\n        });\n      }).catch(function (error) {// An error happened.\n      });\n    };\n\n    _this.state = {\n      pictures: [],\n      imageuploaded: false,\n      isSignedIn: false,\n      loading: false\n    };\n    _this.onDrop = _this.onDrop.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Home, [{\n    key: \"onDrop\",\n    value: function onDrop(picture) {\n      this.setState({\n        pictures: this.state.pictures.concat(picture),\n        imageuploaded: true\n      });\n      console.log(\"uploaded\");\n    }\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this2 = this;\n\n      firebase.auth().onAuthStateChanged(function (user) {\n        _this2.setState({\n          isSignedIn: user,\n          loading: true\n        });\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      setTimeout(function () {\n        this.setState({\n          loading: false\n        });\n      }.bind(this), 2000);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.loading && this.state.isSignedIn) {\n        return React.createElement(\"div\", {\n          className: \"homebox\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 99\n          },\n          __self: this\n        }, \"Loading...\");\n      }\n\n      if (this.state.isSignedIn && this.state.imageuploaded) {\n        return React.createElement(\"div\", {\n          className: \"homebox\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104\n          },\n          __self: this\n        }, React.createElement(Proc, {\n          image: this.state.pictures[0],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106\n          },\n          __self: this\n        }, React.createElement(\"h1\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107\n          },\n          __self: this\n        }, \"Sign Out\"), React.createElement(\"button\", {\n          className: \"btn signOut\",\n          label: \"Google Sign Out\",\n          onClick: this.signout,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108\n          },\n          __self: this\n        }, \"Sign Out\")));\n      } else if (this.state.isSignedIn && !this.state.imageuploaded) {\n        var _React$createElement;\n\n        return React.createElement(\"div\", {\n          className: \"homebox\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120\n          },\n          __self: this\n        }, React.createElement(\"strong\", {\n          className: \"homehead\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122\n          },\n          __self: this\n        }, \"Upload an Image to get started\"), React.createElement(\"div\", {\n          className: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123\n          },\n          __self: this\n        }, React.createElement(\"div\", (_React$createElement = {\n          className: \"col-md-6 col-md-offset-3\"\n        }, _defineProperty(_React$createElement, \"className\", \"uploader\"), _defineProperty(_React$createElement, \"__source\", {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        }), _defineProperty(_React$createElement, \"__self\", this), _React$createElement), React.createElement(ImageUploader, {\n          withIcon: true,\n          buttonText: \"Choose image\",\n          onChange: this.onDrop,\n          imgExtension: ['.jpg', '.gif', '.png', '.gif'],\n          maxFileSize: 5242880,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125\n          },\n          __self: this\n        }))), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 134\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          href: \"https://photos.app.goo.gl/5xQr8x333gPYCXXPA\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135\n          },\n          __self: this\n        }, \"Don't go to UCSB? Here's a sample photo!\")), React.createElement(\"div\", {\n          className: \"GoogleSignIn\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 137\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138\n          },\n          __self: this\n        }, React.createElement(\"h1\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139\n          },\n          __self: this\n        }, \"Sign Out\"), React.createElement(\"button\", {\n          className: \"btn signOut\",\n          label: \"Google Sign Out\",\n          onClick: this.signout,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140\n          },\n          __self: this\n        }, \"Sign Out\"))));\n      } else {\n        return React.createElement(\"div\", {\n          className: \"homebox\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155\n          },\n          __self: this\n        }, React.createElement(\"h1\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 156\n          },\n          __self: this\n        }, \"Sign In\"), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 157\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          className: \"btn signIn\",\n          label: \"Google Sign In\",\n          onClick: this.signInWithRedirect,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 158\n          },\n          __self: this\n        }, \"Sign In With Google\")));\n      }\n    }\n  }]);\n\n  return Home;\n}(Component);\n\nexport { Home as default };","map":{"version":3,"sources":["/Users/andrew/GOLDToCalender/src/home.js"],"names":["React","Component","Proc","ImageUploader","firebase","initializeApp","apiKey","authDomain","provider","auth","GoogleAuthProvider","getRedirectResult","then","result","credential","token","accessToken","state","setState","isSignedIn","user","catch","error","errorCode","code","errorMessage","message","email","Home","props","signInWithRedirect","authData","console","log","signout","signOut","pictures","imageuploaded","loading","onDrop","bind","picture","concat","onAuthStateChanged","setTimeout"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport './css/home.css';\nimport Proc from \"./components/imageprocessor\"\nimport ImageUploader from 'react-images-upload';\n\n\nimport \"./css/googlesignin.css\";\nimport firebase from \"firebase\"\n\n\nfirebase.initializeApp({\n  apiKey: \"AIzaSyBROZZvSTM4XbVEuppNsSmzmAeHxxrX7GE\",\n  authDomain: \"goldtocalendar-1547328134993.firebaseapp.com\"\n})\n\nvar provider = new firebase.auth.GoogleAuthProvider();\nfirebase.auth().getRedirectResult().then(function(result) {\n  if (result.credential) {\n    // This gives you a Google Access Token. You can use it to access the Google API.\n    var token = result.credential.accessToken;\n    this.state.setState({isSignedIn: true});\n   \n  }\n  // The signed-in user info.\n  var user = result.user;\n}).catch(function(error) {\n  // Handle Errors here.\n  var errorCode = error.code;\n  var errorMessage = error.message;\n  // The email of the user's account used.\n  var email = error.email;\n  // The firebase.auth.AuthCredential type that was used.\n  var credential = error.credential;\n  // ...\n});\n\nexport default class Home extends Component {\n  constructor(props) {\n    super(props);\n     this.state = { pictures: [],\n      imageuploaded:false,\n      isSignedIn : false,\n      loading:false };\n     this.onDrop = this.onDrop.bind(this);\n}\n\nonDrop(picture) {\n    this.setState({\n        pictures: this.state.pictures.concat(picture),\n        \n      imageuploaded:true\n    }\n    );\n    console.log(\"uploaded\")\n}\n\n\n    \n  signInWithRedirect = ()=>{\n    \n    firebase.auth().signInWithRedirect(provider).then(\n     \n    firebase.auth().getRedirectResult().then(\n      function(authData) {\n      console.log(authData);\n      console.log(\"done\");\n    })\n    );\n  }\n  \n  signout = ()=>{\n    firebase.auth().signOut().then(function() {\n      // Sign-out successful.\n      this.setState({\n        isSignedIn:false\n      })\n    }).catch(function(error) {\n      // An error happened.\n    });\n  }\n\n  componentWillMount() {\n    firebase.auth().onAuthStateChanged(user => {\n      this.setState({isSignedIn:user,\n      loading:true})\n    });\n  }\n  componentDidMount() {\n    setTimeout(function() {\n      this.setState({\n        loading: false,\n        \n      });\n    }.bind(this), 2000);\n  }\n\n        render() {\n          if (this.state.loading && this.state.isSignedIn){\n            return <div className=\"homebox\">Loading...</div>;\n          }\n          if(this.state.isSignedIn && this.state.imageuploaded ){\n          return(\n            \n          <div className = \"homebox\">\n          <Proc image={this.state.pictures[0]}/>\n            <div>\n              <h1>Sign Out</h1>\n              <button\n                    className = \"btn signOut\"\n                    label=\"Google Sign Out\"\n                    onClick={this.signout}>\n                Sign Out\n                </button>\n            </div>\n            \n            </div>\n        )} \n        else if(this.state.isSignedIn && !this.state.imageuploaded ){\n          return(\n            <div className=\"homebox\">\n            \n          <strong className=\"homehead\">Upload an Image to get started</strong>\n            <div className=\"row\">\n              <div className=\"col-md-6 col-md-offset-3\" className=\"uploader\">\n                <ImageUploader\n                      withIcon={true}\n                      buttonText='Choose image'\n                      onChange={this.onDrop}\n                      imgExtension={['.jpg', '.gif', '.png', '.gif']}\n                      maxFileSize={5242880}\n                />\n              </div>\n            </div>\n            <div>\n              <a href=\"https://photos.app.goo.gl/5xQr8x333gPYCXXPA\">Don't go to UCSB? Here's a sample photo!</a>\n            </div>\n            <div className = \"GoogleSignIn\">\n              <div>\n                <h1>Sign Out</h1>\n                <button\n                      className = \"btn signOut\"\n                      label=\"Google Sign Out\"\n                      onClick={this.signout}>\n                  Sign Out\n                  </button>\n              </div>\n              </div>\n            \n          </div>\n             \n          )\n        }\n        else{ \n          return(\n          <div className=\"homebox\">\n              <h1>Sign In</h1>\n              <div>\n                <button\n                    className = \"btn signIn\"\n                    label=\"Google Sign In\"\n                    onClick={this.signInWithRedirect}>\n                Sign In With Google\n                </button>\n              </div>\n          </div>\n        )}\n        \n      \n        }\n}\n"]},"metadata":{},"sourceType":"module"}